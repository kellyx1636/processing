<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>

<head>
    <title>Processing Template</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.4.13/p5.js"></script>
    <script>
        var rectangles = [];  // this is the array for our rectangles
        var score = 0; //the starting score

        function setup() {
            createCanvas(700, 700);
            for (var i = 0; i < 5; i++) { //these two lines make new rectangles in our array
                rectangles.push(new Rectangle());
            }
            
        }

        function draw() {
            background(64,26,64);
            fill(255); 
            textSize(30);
            text("Click on the rectangles after the boundary line, ", 40, 40); // this is giving the instructions to the player!!
            text("but before it leaves the screen!!!" , 120, 90);
            text("See how many you can get. OuO" , 120, 130);
            
            text("Score: " + score, 290, 170); // shows the score
            
            for (var i = 0; i < rectangles.length; i++) { 
                rectangles[i].move(); // this makes the rectangles move down the screen
                rectangles[i].display();// this makes the rectangles appear on the screen
                
            if(rectangles[i].y > 600 && mouseIsPressed) { //when the y-coordinate passes the line value, 600
                if(mouseX > rectangles[i].x && //left side of rectangle
                   mouseX < rectangles[i].x + 100 ) { // right side of rectangle
                    rectangles.splice(i,1); // the rectangle that is clicked, it is deleted
                    score = score + 1; //increases the score for every
                }
              }  
            }
            
            //borderline
            stroke(0);
            strokeWeight(5);
            line(0, 600, 700, 600);
        }

            //this code is creating a default rectangle, that has variables so certain values are constantly changing
        function Rectangle() { //the 3 lines below makes the rectangle appear with a random x-coordinate, y-coordinate, and speed
            this.x = random(width);
            this.y = random(height);
            this.speed = random(1, 3);

            this.move = function() { //controls the movement of all rectangles
                this.y += this.speed; //makes the 
                if (this.y > height) {
                    this.y = 0;
                }
            }

            // this makes the rectangles move down the canvas
            this.display = function() {
                fill(255,246,55); 
                this.x = constrain(this.x, 100, 600); //keeps rectangles inside the canvas
                rect(this.x, this.y, 100, 50); //only the coordinates are changing
            }
        }
        
        function mousePressed() {
           
        }
         
        
    </script>
</head>

<body>

</body>

</html>
